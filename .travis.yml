language: python
os:
  linux
dist:
  focal
python:
  - "3.8"
install:
  - pip install -r requirements.txt
script:
  - coverage run --source=src.get_colortypes_csv -m unittest tests/tests.py
after_success:
  - coverage report -i
  - python setup.py bdist_wheel
deploy:
  provider: releases
  api_key:
    secure: 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
  file_glob: true
  file: dist/*
  on:
    tags: true
